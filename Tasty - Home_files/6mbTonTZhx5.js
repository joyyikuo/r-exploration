if (self.CavalryLogger) { CavalryLogger.start_js(["oDkPa"]); }

__d("AdsCFOutputAPIDataProcessor",["invariant","AdObjectLevels","AdsAccountStore","AdsCFActiveCampaignIDStore","AdsCFAdgroupStateUtils","AdsCFCampaignStateUtils","AdsCFCampaignUtils","AdsCFSavedAudienceAsyncOutputPreProcessor","AdsCFSpecGenerationUtils","adsCFCampaignGroupRecordSelector","nullthrows","promiseAllByKey","adsCFCampaignStateSelector","AdsCFAdgroupStore","AdsPlacementSelectionUIStore"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(){var a=b("adsCFCampaignStateSelector"),c=b("AdsCFAdgroupStore");return b("AdsCFSpecGenerationUtils").generateAdgroups(b("adsCFCampaignGroupRecordSelector")(),b("AdsCFCampaignStateUtils").getAllActiveRecords(a(),b("AdsCFActiveCampaignIDStore").getState()),b("AdsCFAdgroupStateUtils").getAdgroupRecords(c.getState()))}function i(){return b("AdsCFSpecGenerationUtils").generateCampaignGroup(b("adsCFCampaignGroupRecordSelector")())}function j(){var a=b("adsCFCampaignStateSelector"),c=b("AdsPlacementSelectionUIStore");a=b("AdsCFCampaignStateUtils").getAllActiveRecords(a(),b("AdsCFActiveCampaignIDStore").getState());a=a.map(function(a){var b=a.id;b=c.getShowCustomSelection(b);return{campaign:a,hasCustomPlacement:b}});return b("AdsCFSpecGenerationUtils").generateCampaigns(b("AdsAccountStore").getSelectedAccount(),b("adsCFCampaignGroupRecordSelector")(),a)}function k(){var a=b("AdsCFCampaignStateUtils").getActiveCampaignIDs(b("AdsCFActiveCampaignIDStore").getState()),c=a.length?b("AdsCFCampaignUtils").isNewID(a[0]):null;a.every(function(a){return b("AdsCFCampaignUtils").isNewID(a)===c})||g(0);return!a.length?[]:j()}function a(a,c,d,e){__p&&__p();var f,g=(f={},f[b("AdObjectLevels").CAMPAIGN_GROUP]=i(),f[b("AdObjectLevels").CAMPAIGN]=c?k():[],f[b("AdObjectLevels").ADGROUP]=a?h():[],f),j=[b("AdsCFSavedAudienceAsyncOutputPreProcessor")];c=j.filter(function(a){return a.shouldRun(g)}).reduce(function(a,b){a[b.key]=b.genPromiseObject(g);return a},{});b("promiseAllByKey")(c).then(function(a){var c=Object.keys(a).reduce(function(c,d){var e=j.find(function(a){return a.key===d});return b("nullthrows")(e).mutateSpec(c,a[d])},g);d(c)})["catch"](function(a){e!=null&&e(g,a)})}e.exports={generateAdgroupAPISpecs:h,generateCampaignGroupApiSpec:i,generateMultipleCampaignApiSpecs:j,generateSpecForCreate:a}}),null);