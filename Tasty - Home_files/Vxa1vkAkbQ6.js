if (self.CavalryLogger) { CavalryLogger.start_js(["CgdX1"]); }

__d("AdsCFAdgroupValidationStore",["AdsAccountStore","AdsAdgroupAcceptMAIDeeplinkTOSValidator","AdsAdgroupAppLinkValidator","AdsAdgroupAudienceNetworkInStreamVideoValidator","AdsAdgroupAuthorizationCategoryValidator","AdsAdgroupCallToActionValidator","AdsAdgroupCanvasBillingEventValidator","AdsAdgroupCanvasLinkValidator","AdsAdgroupCanvasPlusLeadGenFormValidator","AdsAdgroupChildAttachmentHeadlineValidator","AdsAdgroupChildAttachmentLinkValidator","AdsAdgroupConnectPageValidator","AdsAdgroupDisplayURLValidator","AdsAdgroupDURValidator","AdsAdgroupEventURLValidator","AdsAdgroupFacebookCapitalizationValidator","AdsAdgroupFacebookChildAttachmentMediaValidator","AdsAdgroupHeadlineValidator","AdsAdgroupImageSpecValidator","AdsAdgroupImageValidator","AdsAdgroupInstagramAccountValidator","AdsAdgroupInstagramChildAttachmentMediaValidator","AdsAdgroupInstagramVideoValidator","AdsAdgroupInstreamVideoValidator","AdsAdgroupIntegrityValidator","AdsAdgroupLeadGenValidator","AdsAdgroupLocalAwarenessCTALinkDirectonValidator","AdsAdgroupMessagesUseExistingPostValidator","AdsAdgroupMessageValidator","AdsAdgroupMessengerDestinationPlacementValidator","AdsAdgroupMessengerHeadlineValidator","AdsAdgroupMessengerSponsoredMessageValidator","AdsAdgroupMessengerWelcomeMessageValidator","AdsAdgroupNameValidator","AdsAdgroupPagePostValidator","AdsAdgroupPhoneNumberValidator","AdsAdgroupPlacementValidator","AdsAdgroupPostValidator","AdsAdgroupProductSetValidator","AdsAdgroupReachFrequencyFormatValidator","AdsAdgroupReachFrequencyPagePostValidator","AdsAdgroupReachFrequencyValidationUtils","AdsAdgroupSpecUtils","AdsAdgroupSphericalPhotoValidator","AdsAdgroupSponsoredMessageCheckObjectiveValidator","AdsAdgroupTokenizedWebsiteUrlDeeplinkValidator","AdsAdgroupVideoValidator","AdsAdgroupViewTagsValidator","AdsAdgroupWebsiteURLValidator","AdsAPIAdCampaignFields","AdsAPIAdgroupRecordUtils","AdsAPICampaignGroupPaths","AdsAPIPromotablePostFields","AdsAssetFeedHeadlineValidator","AdsAssetFeedLinkDescriptionValidator","AdsAssetFeedMessageValidator","AdsAssetFeedWebsiteURLValidator","AdsBaseValidationStore","AdsBlockListAccountListStore","AdsCampaignUtils","AdsCanvasAdUtils","AdsCanvasSearchEntryStore","AdsCFActiveCampaignGroupIDStore","AdsCFActiveCampaignIDStore","AdsCFAdgroupAsyncValidationLoadedDataActionPlugin","AdsCFAdgroupCanvasPlacementValidator","AdsCFAdgroupCollectionsPlacementValidator","AdsCFAdgroupDataProvider","AdsCFAdgroupStateUtils","AdsCFAdgroupStore","AdsCFAdgroupUnsupportedPlacementValidator","AdsCFCampaignGroupRecordStore","AdsCFCampaignStateUtils","AdsCFCampaignUtils","AdsCFEligibilityInfoStore","AdsCFObjectiveStore","AdsCFOutputAPIDataProcessor","AdsCFRFBootloadedStore","AdsCFValidationKillswitch","AdsDataAtom","AdsDLOAssetFeedPlacementsValidator","AdsErrorType_DEPRECATED","AdsImageIDUtils","AdsImageInfoStore","AdsInstagramActorIDUtils","AdsInstagramUsernameStore","AdsLoadStateUtils_LEGACY","AdsPACAssetFeedPlacementsValidator","AdsPageLeadGenFormStore","AdsPagePostStore","AdsPlacementEligibilityInfoUtils","AdsQEStore","ApiAdCreativePlatformCustomizationFields","adsCFCampaignStateSelector","adsCFGetActiveCampaignIDState_HACK","adsCreateStoreSelector","adsIsInstagramLowResolutionEnabledSelector","areEqual","forEachObject","getByPath","shallowEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[].concat(b("adsCFCampaignStateSelector").getStores(),[b("AdsBlockListAccountListStore"),b("AdsCanvasSearchEntryStore"),b("AdsAccountStore"),b("AdsCFActiveCampaignGroupIDStore"),b("AdsCFActiveCampaignIDStore"),b("AdsCFAdgroupDataProvider").toFluxStore(),b("AdsCFCampaignGroupRecordStore"),b("AdsCFEligibilityInfoStore"),b("AdsCFObjectiveStore"),b("AdsCFRFBootloadedStore"),b("AdsImageInfoStore"),b("AdsInstagramUsernameStore"),b("AdsPageLeadGenFormStore"),b("AdsPagePostStore"),b("AdsQEStore")]),i=h.map(function(a){return a.getDispatchToken()}),j="AdsCFAdgroupValidationID";c=babelHelpers.inherits(a,b("AdsBaseValidationStore"));g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return c=(a=g.constructor).call.apply(a,[this].concat(f)),this.getErrors=b("adsCreateStoreSelector")([this],function(a){a=a||j;a=g.getErrors.call(this,a);return this.$AdsCFAdgroupValidationStore1(a)}.bind(this),e.id),c}a.prototype.__onDispatch=function(a){g.__onDispatch.call(this,a),b("AdsDataAtom").waitFor(i),h.some(function(a){return a.hasChanged()})&&this.__emitChange()};a.prototype.getErrorSpec=function(a){a=a||[j];return g.getErrorSpec.call(this,a)};a.prototype.__getValidators=function(){return[b("AdsAdgroupAppLinkValidator"),b("AdsAdgroupAudienceNetworkInStreamVideoValidator"),b("AdsAdgroupAuthorizationCategoryValidator"),b("AdsAdgroupCallToActionValidator"),b("AdsAdgroupAcceptMAIDeeplinkTOSValidator"),b("AdsAdgroupCanvasBillingEventValidator"),b("AdsAdgroupCanvasLinkValidator"),b("AdsAdgroupCanvasPlusLeadGenFormValidator"),b("AdsAdgroupChildAttachmentHeadlineValidator"),b("AdsAdgroupChildAttachmentLinkValidator"),b("AdsAdgroupConnectPageValidator"),b("AdsAdgroupDisplayURLValidator"),b("AdsAdgroupDURValidator"),b("AdsAdgroupEventURLValidator"),b("AdsAdgroupFacebookCapitalizationValidator"),b("AdsAdgroupFacebookChildAttachmentMediaValidator"),b("AdsAdgroupHeadlineValidator"),b("AdsAdgroupImageSpecValidator"),b("AdsAdgroupImageValidator"),b("AdsAdgroupInstagramAccountValidator"),b("AdsAdgroupInstagramChildAttachmentMediaValidator"),b("AdsAdgroupInstagramVideoValidator"),b("AdsAdgroupInstreamVideoValidator"),b("AdsAdgroupIntegrityValidator"),b("AdsAdgroupLeadGenValidator"),b("AdsAdgroupLocalAwarenessCTALinkDirectonValidator"),b("AdsAdgroupMessageValidator"),b("AdsAdgroupMessagesUseExistingPostValidator"),b("AdsAdgroupMessengerDestinationPlacementValidator"),b("AdsAdgroupMessengerHeadlineValidator"),b("AdsAdgroupMessengerSponsoredMessageValidator"),b("AdsAdgroupMessengerWelcomeMessageValidator"),b("AdsAdgroupNameValidator"),b("AdsAdgroupPagePostValidator"),b("AdsAdgroupPhoneNumberValidator"),b("AdsAdgroupPlacementValidator"),b("AdsAdgroupPostValidator"),b("AdsAdgroupProductSetValidator"),b("AdsAdgroupReachFrequencyPagePostValidator"),b("AdsAdgroupReachFrequencyFormatValidator"),b("AdsAdgroupSphericalPhotoValidator"),b("AdsAdgroupSponsoredMessageCheckObjectiveValidator"),b("AdsAdgroupTokenizedWebsiteUrlDeeplinkValidator"),b("AdsAdgroupVideoValidator"),b("AdsAdgroupViewTagsValidator"),b("AdsAdgroupWebsiteURLValidator"),b("AdsCFAdgroupCanvasPlacementValidator"),b("AdsCFAdgroupCollectionsPlacementValidator"),b("AdsCFAdgroupUnsupportedPlacementValidator"),b("AdsAssetFeedHeadlineValidator"),b("AdsAssetFeedMessageValidator"),b("AdsAssetFeedLinkDescriptionValidator"),b("AdsAssetFeedWebsiteURLValidator"),b("AdsDLOAssetFeedPlacementsValidator"),b("AdsPACAssetFeedPlacementsValidator")]};a.prototype.__shouldValidate=function(a){return b("AdsCFValidationKillswitch").shouldDisableValidation?!1:!0};a.prototype.__shouldValidateData=function(a,b,c){return!c?!1:b.shouldValidate(c)};a.prototype.__getData=function(a){__p&&__p();var c,d,e=b("AdsAccountStore").getSelectedAccount();if(!e.name)return null;a=this.$AdsCFAdgroupValidationStore2(a);if(!a)return null;var f=b("AdsCFCampaignStateUtils").getFirstSelectedRecord(b("adsCFCampaignStateSelector")(),b("adsCFGetActiveCampaignIDState_HACK")()),g=b("AdsCFOutputAPIDataProcessor").generateCampaignGroupApiSpec(),h=b("getByPath")(g,b("AdsAPICampaignGroupPaths").OBJECTIVE),i=this.$AdsCFAdgroupValidationStore3(e.account_id,a,g)||undefined;c=a==null?void 0:(c=a.creative)==null?void 0:c.object_story_id;var j;if(c){c=b("AdsPagePostStore").getCached(c)||undefined;j=c&&b("AdsLoadStateUtils_LEGACY").isLoaded(c)?c:undefined}c=this.$AdsCFAdgroupValidationStore4(e.account_id,a);var k=b("AdsInstagramActorIDUtils").getInstagramActorID(a),l;k&&(l=b("AdsInstagramUsernameStore").getCached(k));k=[];var m=b("AdsCFEligibilityInfoStore").get(),n=b("AdsPlacementEligibilityInfoUtils").getIneligiblePlacementsForAd(m,{callToActionType:b("AdsAdgroupSpecUtils").getCallToActionType(a,g.objective),isCanvas:b("AdsCanvasAdUtils").isCanvasAd(a.creative),isInstagramEligiblePost:j&&j[b("AdsAPIPromotablePostFields").IS_INSTAGRAM_ELIGIBLE],isVideo:b("AdsAdgroupSpecUtils").isVideoAd(a),pagePostType:j&&j.type},b("AdsCFCampaignUtils").isNew(f)),o=this.$AdsCFAdgroupValidationStore5(e,a),p=f.toJS(),q=b("AdsAdgroupReachFrequencyValidationUtils").hasReachFrequencyPrediction(g,f)?b("AdsCFRFBootloadedStore").onLoadedStore(function(a){return a.getState(b("getByPath")(p,[b("AdsAPIAdCampaignFields").ID])).storyEventType},null):null;d=(a==null?void 0:(d=a.creative)==null?void 0:(d=d.object_story_spec)==null?void 0:(d=d.link_data)==null?void 0:(d=d.call_to_action)==null?void 0:(d=d.value)==null?void 0:d.lead_gen_form_id)||(a==null?void 0:(d=a.creative)==null?void 0:(d=d.object_story_spec)==null?void 0:(d=d.video_data)==null?void 0:(d=d.call_to_action)==null?void 0:(d=d.value)==null?void 0:d.lead_gen_form_id);var r=d?b("AdsPageLeadGenFormStore").get(d):undefined,s=b("AdsBlockListAccountListStore").get(e.account_id),t,u=b("AdsCanvasAdUtils").getDestinationLinkFromAdgroup(a);if(u){u=b("AdsCanvasAdUtils").getCanvasID(u);if(u){u=b("AdsCanvasSearchEntryStore").getDocByID(u);if(u){u=u.getValue();u&&(t=u.getAuxiliaryData())}}}u={imageResolutionQE:b("AdsQEStore").getForCurrentUser("ads_increase_fb_image_resolution").getValue()};var v=b("adsIsInstagramLowResolutionEnabledSelector")();return{account:e,accountBlockLists:s,adgroup:a.toJS(),allowInstagramLowResolution:v,campaign:p,campaignGroup:g,carouselImages:c,canvas:t,eligibilityInfo:m,image:i,ineligiblePlacementSpec:n,instagramAccount:l,leadForm:r,leadFormID:d,platformImageObjects:o,promotedObjectType:b("AdsCampaignUtils").getPromotedObjectType(h,f),post:j,qes:u,ui:{isCreateFlow:!0,isUsingExistingPost:b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a)},storyEventType:q,supportedPageTypes:k}};a.prototype.__areEqual=function(a,c){return a.account===c.account&&a.accountBlockLists===c.accountBlockLists&&a.adgroup===c.adgroup&&a.allowInstagramLowResolution===c.allowInstagramLowResolution&&a.campaign===c.campaign&&a.leadForm===c.leadForm&&a.post===c.post&&a.storyEventType===c.storyEventType&&b("shallowEqual")(a.image,c.image)&&b("shallowEqual")(a.campaignGroup,c.campaignGroup)&&b("shallowEqual")(a.qes,c.qes)&&b("shallowEqual")(a.ui,c.ui)&&b("areEqual")(a.carouselImages,c.carouselImages)&&b("areEqual")(a.platformImageObjects,c.platformImageObjects)&&b("areEqual")(a.canvas,c.canvas)};a.prototype.$AdsCFAdgroupValidationStore5=function(a,c){var d={};b("forEachObject")(b("ApiAdCreativePlatformCustomizationFields"),function(e){var f=this.$AdsCFAdgroupValidationStore6(b("AdsImageIDUtils").getPlatformImageID(c,a.account_id,e));f&&(d[e]=f)}.bind(this));return d};a.prototype.$AdsCFAdgroupValidationStore1=function(a){var c;a.forEach(function(a){a.key===b("AdsErrorType_DEPRECATED").ADGROUP_UNSUPPORTED_PAGE_TYPES&&(c=a)});return c?[c]:a};a.prototype.$AdsCFAdgroupValidationStore2=function(a){if(a===j)return this.$AdsCFAdgroupValidationStore7();a=b("AdsCFAdgroupStateUtils").getAdgroupRecordByAdgroupID(b("AdsCFAdgroupStore").getState(),a);return!a?this.$AdsCFAdgroupValidationStore7():a};a.prototype.$AdsCFAdgroupValidationStore7=function(){var a=b("AdsCFAdgroupStore").getState();return!a.size?null:b("AdsCFAdgroupStateUtils").getAdgroupRecordByIndex_DEPRECATED(a)};a.prototype.$AdsCFAdgroupValidationStore3=function(a,c,d){if(b("AdsAPIAdgroupRecordUtils").getPagePostID(c))return null;d=b("AdsImageIDUtils").getSingleImageID(c,a);return this.$AdsCFAdgroupValidationStore6(d)};a.prototype.$AdsCFAdgroupValidationStore4=function(a,c){c=b("AdsImageIDUtils").getMPAImageIDs(c,a);return c.map(function(a){return this.$AdsCFAdgroupValidationStore6(a)}.bind(this))};a.prototype.$AdsCFAdgroupValidationStore6=function(a){if(!a)return null;a=b("AdsImageInfoStore").getFullSize(a);if(!a.hasValue())return null;a=a.getValueEnforcing();return{height:a.height,url:a.url,width:a.width,is_spherical_photo:a.isSphericalPhoto}};a.__moduleID=e.id;d=new a(b("AdsCFAdgroupAsyncValidationLoadedDataActionPlugin").actionType);e.exports=d}),null);