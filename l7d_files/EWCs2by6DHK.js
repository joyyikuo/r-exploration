if (self.CavalryLogger) { CavalryLogger.start_js(["7wcRZ"]); }

__d("FBRTCCore",["invariant","Bootloader","FBRTCAvailability","FBRTCCallUIWrapper","FBRTCExperiment","FBRTCSupport","FBRTCUtils","MessengerRTCFunnelLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=!1;a={startOutgoingCall:function(a,c,d,e){__p&&__p();e===void 0&&(e=!1);/\D/.test(a)&&g(0);if(h)return;b("MessengerRTCFunnelLogger").addFunnelTags([d?"audio_only":"video","p2p"]);h=!0;setTimeout(function(){h=!1},1e3);if(e&&!b("FBRTCSupport").isCollabSupported())b("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage","CollabMessengerLogger"],function(c,d){c.showForUnsupportedCollabCall(),d.logBrowserNotSupported({peerID:a}),b("MessengerRTCFunnelLogger").endFunnel("unsupported_browser")},"FBRTCCore");else if(!b("FBRTCSupport").isWebrtcSupported())b("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage","RTWebUserActionLogger","RTWebLoggingCallType"],function(a,c,e){a.showForOutgoingCall(),b("MessengerRTCFunnelLogger").endFunnel("unsupported_browser"),c.logError({callType:e.P2P,page:c.getPage(),mediaType:c.getMediaType(d),errorDomain:"unsupported browser"})},"FBRTCCore");else{e=b("FBRTCUtils").generateRandomInt();b("FBRTCCallUIWrapper").openAsCaller(a,e,c,d)}},startGroupCall:function(a){__p&&__p();var c=a.conferenceName,d=a.hasVideo,e=a.serverInfoData,f=a.trigger;a=a.usersToRing;a=a===void 0?[]:a;if(h)return;b("MessengerRTCFunnelLogger").addFunnelTags([d?"video":"audio_only","group"]);h=!0;setTimeout(function(){h=!1},1e3);if(!b("FBRTCSupport").isGroupCallWebtrcSupported()){b("Bootloader").loadModules(["MessengerRTCUnsupportedBrowserDialogController","RTWebUserActionLogger","RTWebLoggingCallType"],function(a,e,f){e.logError({callType:f.MW,conferenceName:c,page:e.getPage(),mediaType:e.getMediaType(!d),errorDomain:"unsupported browser"}),a.render({hasVideo:d,isGroupCall:!0}),b("MessengerRTCFunnelLogger").endFunnel("unsupported_browser")},"FBRTCCore");return}b("FBRTCCallUIWrapper").openGroupCallUI(c,b("FBRTCUtils").generateRandomInt(),a,d,f,e)},isAvailableForWebrtcCalling:function(a){var c=b("FBRTCExperiment").gen("rtc_www_bypass_callability_check");c=c.getBool("check_presence",!0);return!c||b("FBRTCAvailability").isCallable(a)},shouldEnableVideoCalling:function(){return b("FBRTCSupport").isOSSupported()}};e.exports=a}),null);