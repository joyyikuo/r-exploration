if (self.CavalryLogger) { CavalryLogger.start_js(["KgSlO"]); }

__d("RTWebUserActionLogger",["FBRTCConsoleLogger","RTCCallStoreState","RTCWebUserActionsTypedLogger","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingEvent","RTWebLoggingMediaType","RTWebLoggingPage","immutable","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map;function a(){this.$1=g()}a.prototype.logImpression=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").IMPRESSION},a))};a.prototype.logClick=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").TAP},a))};a.prototype.logError=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").ERROR},a))};a.prototype.startTimer=function(a){this.$1=this.$1.set(a,b("performanceNow")()),this.$2(a,{startTime:b("performanceNow")()})};a.prototype.logStopTimer=function(a,event){event.timeElapsed=this.$3(a);event.eventName=a;this.logEvent(event);return event.timeElapsed};a.prototype.logEvent=function(event){var a=new(b("RTCWebUserActionsTypedLogger"))().setCallType(event.callType).setClientTime(Date.now()).setErrorDomain(event.errorDomain).setErrorType(event.errorType).setComponent(event.component).setConferenceState(event.conferenceState).setEvent(event.eventName).setMediaType(event.mediaType).setPage(event.page).setCallID(event.callID).setConferenceName(event.conferenceName).setSurface(event.surface).setEventTimeElapsed(event.timeElapsed),c=a.getData();this.$2(event.eventName,c);a.log()};a.prototype.getCallType=function(a,c){c===void 0&&(c=!1);if(a===null)return null;if(a)return b("RTWebLoggingCallType").MW;else if(c)return b("RTWebLoggingCallType").ESCALATED;else return b("RTWebLoggingCallType").P2P};a.prototype.getAudioVideoComponent=function(a){return a===null?null:a?b("RTWebLoggingComponent").AUDIO_CALL:b("RTWebLoggingComponent").VIDEO_CALL};a.prototype.getMediaType=function(a,c){c===void 0&&(c=!1);if(c)return b("RTWebLoggingMediaType").ESCALATED;else if(a)return b("RTWebLoggingMediaType").AUDIO;else return b("RTWebLoggingMediaType").VIDEO};a.prototype.getPage=function(){var a=window.location.hostname;if(a.search("facebook")!==-1)return b("RTWebLoggingPage").FACEBOOK;else if(a.search("messenger")!==-1)return b("RTWebLoggingPage").MESSENGER_DOT_COM;return null};a.prototype.getWebLoggerInfoFromStore=function(a){a=a.callInfo;var b=a.callID,c=a.conferenceName;a=a.conferenceState;return{callID:b,conferenceName:c,conferenceState:a}};a.prototype.$3=function(a){var c=this.$1.get(a);if(c){this.$1=this.$1.remove(a);return parseInt(b("performanceNow")()-c,10)}return null};a.prototype.$2=function(a,b){};e.exports=new a()}),null);